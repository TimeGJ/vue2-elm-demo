"use strict";(self["webpackChunkelm"]=self["webpackChunkelm"]||[]).push([[670],{4670:function(s,t,o){o.r(t),o.d(t,{default:function(){return h}});var a=function(){var s=this,t=s._self._c;return s.data?t("div",{staticClass:"shop_box"},[t("section",{staticClass:"heard_box"},[t("section",{staticClass:"base_img"},[t("div",{staticClass:"base_imgbox"},[t("img",{staticClass:"base_img",attrs:{src:s.baseImg+s.data.image_path,alt:""}})])]),t("div",{on:{touchend:s.pageBack}},[t("svg",{staticClass:"back"},[t("use",{attrs:{"xlink:href":"#icon-arrow-left"}})])]),t("div",{staticClass:"shop_title"},[t("img",{attrs:{src:s.baseImg+s.data.image_path,alt:""}}),t("div",[t("h3",[s._v(s._s(s.data.name))]),t("p",[t("span",[s._v("商家配送／")]),s._v(" "),t("span",[s._v(s._s(s.data.order_lead_time)+"分钟送达／")]),s._v(" "),t("span",[s._v("配送费"+s._s(s.data.float_delivery_fee)+"元")])]),t("p",[s._v("公告："+s._s(s.data.promotion_info))])]),t("router-link",{attrs:{to:""}},[t("svg",[t("use",{attrs:{"xlink:href":"#icon-arrow-right"}})])])],1)]),t("nav",{staticClass:"nav_to"},[t("div",{on:{touchend:s.changeShowbd}},[t("span",{class:{bd_b:s.changeShow}},[s._v("商品")])]),t("div",{on:{touchend:s.changeShowbd}},[t("span",{class:{bd_b:!s.changeShow}},[s._v("评价")])])]),t("section",{directives:[{name:"show",rawName:"v-show",value:s.changeShow,expression:"changeShow"}],staticClass:"food_left"},[t("div",{staticClass:"left_food_contain"},[t("section",{staticClass:"food_list"},[t("ul",{style:{transform:"translateY("+s.mousemove+"px)"},on:{touchstart:s.translate,touchmove:s.transformY,touchend:s.transEnd}},s._l(s.foodList,(function(o,a){return t("li",{key:o.id,style:a==s.foodindex?"background-color: #fff;":"background-color: #f8f8f8;",on:{touchend:function(t){return s.fooditem(a)}}},[t("span",[s._v(s._s(o.name))])])})),0)]),t("section",{staticClass:"foods"},[t("section",[t("div",[s._v(" "+s._s(s.foodList[s.foodindex].name)+" "+s._s(s.foodList[s.foodindex].description)+" ")]),t("ul",s._l(s.food[s.foodindex],(function(o){return t("li",[t("div",[t("img",{attrs:{src:s.baseImg+o.image_path,alt:""}})]),t("div",[t("div",[s._v(s._s(o.name))]),t("div",[s._v(s._s(o.description))]),t("div",[t("span",[s._v("月售"+s._s(o.month_sales))]),t("span",[s._v("好评率"+s._s(o.month_sales))])]),t("div",[t("span",{staticClass:"font_color"},[s._v("￥"+s._s(o.specfoods[0].price))]),s._v(" "),t("div",[t("svg",[t("use",{attrs:{"xlink:href":"#icon-add"}})])])])])])})),0)])])]),t("footer",{staticClass:"footer_box"},[t("section",[t("div",[t("svg",[t("use",{attrs:{"xlink:href":"#icon-shopping-cart-"}})]),t("div",[t("p",[s._v(" ￥"+s._s(s.price)+" ")]),t("p",[s._v(" 配送费"+s._s(s.data.float_delivery_fee)+" ")])])]),t("div",{staticClass:"food_price"},[t("p",[s._v("还差"+s._s(s.data.float_minimum_order_amount)+"起送")])])])])]),t("section",{directives:[{name:"show",rawName:"v-show",value:!s.changeShow,expression:"!changeShow"}]})]):s._e()},e=[],i=(o(7658),o(963)),n={name:"Shop",data(){return{data:null,baseImg:"//elm.cangdu.org/img/",changeShow:!0,foodList:[],food:[],foodindex:0,mouseY:null,mousemove:0,listStare:0,price:0}},methods:{initdata(){(0,i.ch)(this.$route.query.id).then((s=>{this.data=s,console.log(s)}))},changeShowbd(){this.changeShow=!this.changeShow},pageBack(){this.$router.go(-1)},initFoodList(){(0,i.Ju)(this.$route.query.id).then((s=>{s.category_list.forEach((s=>{0!=s.foods.length&&(this.foodList.push(s),this.food.push(s.foods))}))})).catch((s=>{console.log(s)}))},translate(s){this.mouseY=s.touches[0].clientY},transformY(s){this.mousemove=this.listStare+s.touches[0].clientY-this.mouseY},transEnd(){this.listStare=this.mousemove,this.listStare>0&&(this.mousemove=0,this.listStare=this.mousemove)},fooditem(s){this.foodindex=s}},created(){this.initdata(),this.initFoodList()}},d=n,c=o(1001),r=(0,c.Z)(d,a,e,!1,null,"b804869c",null),h=r.exports}}]);
//# sourceMappingURL=670.0c82c756.js.map