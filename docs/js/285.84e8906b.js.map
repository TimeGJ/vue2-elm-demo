{"version":3,"file":"js/285.84e8906b.js","mappings":"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","sources":["webpack://elm/./src/page/login/login.vue","webpack://elm/src/page/login/login.vue","webpack://elm/./src/page/login/login.vue?576a","webpack://elm/./src/page/login/login.vue?a4db"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box\"},[_c('Header',{attrs:{\"leftBack\":\"true\"}},[_c('div',{attrs:{\"slot\":\"message\"},slot:\"message\"},[_vm._v(\"密码登录\")])]),_c('form',[_c('section',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phoneNum),expression:\"phoneNum\"}],attrs:{\"type\":\"text\",\"placeholder\":\"账号\"},domProps:{\"value\":(_vm.phoneNum)},on:{\"input\":function($event){if($event.target.composing)return;_vm.phoneNum=$event.target.value}}})]),_c('section',[(!_vm.showPassword)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.password=$event.target.value}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"text\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.password=$event.target.value}}}),_c('div',{staticClass:\"dotBox\",class:{transBgc:_vm.showPassword}},[_c('span',{ref:\"dot\",staticClass:\"dot\",class:{transRight:_vm.showPassword},on:{\"touchstart\":_vm.showPwd}})])]),_c('section',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.codeNumber),expression:\"codeNumber\"}],attrs:{\"type\":\"text\",\"placeholder\":\"验证码\",\"maxlength\":\"4\"},domProps:{\"value\":(_vm.codeNumber)},on:{\"input\":function($event){if($event.target.composing)return;_vm.codeNumber=$event.target.value}}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.codeImg),expression:\"codeImg\"}],staticClass:\"img\",attrs:{\"src\":_vm.codeImg,\"alt\":\"\"}}),_c('p',{on:{\"touchstart\":_vm.transImg}},[_vm._v(\"看不清？换一张\")])])]),_c('p',[_vm._v(\"温馨提示：未注册过的账号，登录时将自动注册 \")]),_c('p',[_vm._v(\"注册过的用户可凭账号密码登录\")]),_c('div',{staticClass:\"submit\",on:{\"touchstart\":_vm.submit}},[_vm._v(\"登录\")]),_c('router-link',{attrs:{\"to\":\"/forget\"}},[_vm._v(\"重置密码？\")]),_c('alertTip',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAlert),expression:\"showAlert\"}],attrs:{\"tipText\":_vm.alertText},on:{\"closeTip\":_vm.closeTip}},[_vm._v(_vm._s(_vm.alertText))])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"box\">\r\n    <Header leftBack=\"true\"> \r\n          <div slot=\"message\">密码登录</div>\r\n    </Header>\r\n    <form>\r\n    <section>\r\n        <input type=\"text\" placeholder=\"账号\" v-model=\"phoneNum\">\r\n    </section>\r\n    <section>\r\n        <input type=\"password\" placeholder=\"密码\" v-model=\"password\" v-if=\"!showPassword\">\r\n        <input type=\"text\" placeholder=\"密码\" v-model=\"password\" v-else>\r\n        <div  class=\"dotBox\"  :class=\"{transBgc:showPassword}\"    >\r\n            <span class=\"dot\" :class=\"{transRight:showPassword}\" ref=\"dot\" @touchstart=\"showPwd\"></span>\r\n        </div>\r\n    </section>\r\n    <section>\r\n        <input type=\"text\" placeholder=\"验证码\" v-model=\"codeNumber\" maxlength=\"4\">\r\n        <img :src=\"codeImg\" alt=\"\" class=\"img\" v-show=\"codeImg\">\r\n        <p @touchstart=\"transImg\">看不清？换一张</p>\r\n    </section>\r\n    </form>\r\n    <p>温馨提示：未注册过的账号，登录时将自动注册\r\n    </p>\r\n    <p>注册过的用户可凭账号密码登录</p>\r\n    <div class=\"submit\" @touchstart=\"submit\">登录</div>\r\n    <router-link to=\"/forget\">重置密码？</router-link>\r\n    <alertTip v-show=\"showAlert\" :tipText=\"alertText\" @closeTip=\"closeTip\">{{alertText}}</alertTip>\r\n    </div>\r\n</template>\r\n<script>\r\nimport qs from \"qs\"\r\nimport Header from '../../components/head/header.vue'\r\nimport {captCodeImg,accountLogin} from '../../untils/api'\r\nimport alertTipVue from '@/components/alertTip.vue'\r\nexport default{\r\n    name:'Login',\r\n    components:{\r\n        Header,\r\n        alertTip:alertTipVue\r\n    },\r\n    data(){\r\n        return{\r\n            phoneNum:null,//用户名\r\n            password:null,//密码\r\n            codeNumber:null,//验证码\r\n            showPassword:false,//是否显示密码\r\n            codeImg:null,//验证码图片\r\n            alertText:'',//提示内容\r\n            showAlert:false,//提示框是否显示\r\n        }\r\n    },\r\n    computed:{\r\n        //手机号验证\r\n        rightPhoneNumber(){\r\n            return /^1\\d{10}$/.test(this.phoneNum)\r\n        },\r\n        rightCodeNumber(){\r\n            return /^\\d{4}$/.test(this.codeNumber)\r\n        }\r\n        },\r\n    methods:{\r\n        //是否显示密码\r\n        showPwd(){\r\n            this.showPassword=!this.showPassword\r\n        },\r\n        //换验证码\r\n        transImg(){\r\n           captCodeImg().then(res=>{\r\n            this.codeImg=res.code\r\n           })\r\n        },\r\n        //登录\r\n        submit(){\r\n            this.transImg()\r\n            if(!this.rightPhoneNumber){\r\n                this.showAlert = true;\r\n                this.alertText = '手机号码格式不正确';\r\n                return \r\n            }\r\n            else if(this.password===null){\r\n                this.showAlert = true;\r\n                this.alertText = '请输入密码';\r\n                return \r\n            }\r\n            else if(!this.rightPhoneNumber){\r\n                this.showAlert = true;\r\n                this.alertText = '验证码格式不正确';\r\n                return \r\n            }\r\n            let data={username:this.phoneNum,password:this.password,captcha_code:this.codeNumber}\r\n            // console.log(data)\r\n            data=qs.stringify(data)\r\n     \r\n           accountLogin(data).then(res=>{\r\n            if(!res.user_id){\r\n                this.showAlert=true\r\n                this.alertText=res.message\r\n            }\r\n            else{\r\n                this.$store.state.userInfo=res.user_id\r\n                console.log(this.$store.state.userInfo)\r\n                localStorage.removeItem('user_id')\r\n                localStorage.setItem('user_id',res.user_id)\r\n                this.$router.push('/')\r\n            }\r\n            }).catch(err=>{\r\n                console.log(err)\r\n            })\r\n        },\r\n        //关闭登录窗口\r\n        closeTip(){\r\n            this.showAlert=false\r\n        }\r\n    },\r\n    created(){\r\n      this.transImg()\r\n      \r\n    },\r\n \r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n    .box{\r\n        margin-top: 3rem;\r\n        section{\r\n            display: flex;\r\n            justify-content: space-between;\r\n            width: 100%;\r\n            background-color: white;\r\n            border-bottom: 0.1rem solid #f1f1f1;\r\n            input{\r\n                padding-left: 1rem;\r\n                height: 2.5rem;\r\n                font-size: 0.8rem;\r\n            }\r\n            .img{\r\n               width: 4rem;\r\n               height: 2.5rem;\r\n            }\r\n            p{\r\n                color: #3b95e9;\r\n                text-align: center;\r\n                line-height: 2rem;\r\n            }\r\n            div{\r\n                position: relative;\r\n                margin-top: 0.8rem;\r\n                background-color: #ccc;\r\n                border-radius: 0.5rem;\r\n                width: 3rem;\r\n                height: 1rem;\r\n                .dot{\r\n                    position: absolute;\r\n                    top: -0.25rem;\r\n                    transition: all 0.5s;\r\n                    border-radius: 50%;\r\n                    z-index: 1;\r\n                    background-color: #f1f1f1;\r\n                    width: 1.5rem;\r\n                    height: 1.5rem;\r\n                }\r\n            }\r\n        }\r\n        p{\r\n            color: red;\r\n            font-size: 0.5rem;\r\n            margin: 0.5rem 0.3rem;\r\n        }\r\n        .submit{\r\n            background-color: #4cd964;\r\n            border-radius: 0.15rem;\r\n            font-size: 1rem;\r\n            height: 2rem;\r\n            width:  95%;\r\n            margin: 0 2.5%;\r\n            text-align: center;\r\n            line-height: 2rem;\r\n            color: white;\r\n        }\r\n        a{\r\n            float: right;\r\n            margin:0.5rem 0.25rem ;\r\n            font-size: 0.7rem;\r\n            color: #3b95e9;\r\n        }\r\n        .transRight{\r\n            transform: translateX(1.5rem);\r\n        }\r\n        .transBgc{\r\n            background-color: #4cd964;\r\n        }\r\n}   \r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=6e6470aa&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=6e6470aa&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e6470aa\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","directives","name","rawName","value","phoneNum","expression","domProps","on","$event","target","composing","showPassword","password","class","transBgc","ref","transRight","showPwd","codeNumber","codeImg","transImg","submit","showAlert","alertText","closeTip","_s","staticRenderFns","components","Header","alertTip","data","computed","rightPhoneNumber","rightCodeNumber","methods","captCodeImg","username","captcha_code","accountLogin","console","localStorage","created","component"],"sourceRoot":""}